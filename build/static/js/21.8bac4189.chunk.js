(window["webpackJsonpie-project"]=window["webpackJsonpie-project"]||[]).push([[21],{545:function(e,a,t){"use strict";t.r(a);t(150);var s=t(27),r=(t(215),t(151)),i=(t(85),t(32)),n=(t(219),t(156)),o=(t(152),t(11)),l=(t(218),t(79)),c=(t(216),t(118)),m=t(45),p=t(46),d=t(49),u=t(47),f=t(48),g=t(0),h=t.n(g),E=t(69),b=(t(153),t(86)),y=t(34),w=t(155),v=t(55),S=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(d.a)(this,Object(u.a)(a).call(this))).handleSubmit=function(a){a.preventDefault(),e.props.form.validateFieldsAndScroll(function(a,t){a||(console.log("Received values of form: ",t),e.props.register(t))})},e.handleConfirmBlur=function(a){var t=a.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!t})},e.compareToFirstPassword=function(a,t,s){var r=e.props.form;t&&t!==r.getFieldValue("password")?s("Two passwords that you enter is inconsistent!"):s()},e.validateToNextPassword=function(a,t,s){var r=e.props.form;t&&e.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),s()},e.state={confirmDirty:!1},e}return Object(f.a)(a,e),Object(p.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return this.props.isLogin?h.a.createElement(v.a,{to:"./Account"}):h.a.createElement(s.a,{lg:{span:12,offset:6},md:{span:22,offset:1},style:{marginTop:"24px",marginBottom:"24px"}},h.a.createElement(r.a,{style:{maxWidth:"500px",margin:"auto"}},h.a.createElement(l.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),h.a.createElement(l.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(h.a.createElement(c.a,{disabled:this.props.isLoading}))),h.a.createElement(l.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(h.a.createElement(c.a.Password,{disabled:this.props.isLoading}))),h.a.createElement(l.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(h.a.createElement(c.a.Password,{onBlur:this.handleConfirmBlur,disabled:this.props.isLoading}))),h.a.createElement(l.a.Item,{label:h.a.createElement("span",null,"Nickname\xa0",h.a.createElement(n.a,{title:"What do you want others to call you?"},h.a.createElement(o.a,{type:"question-circle-o"})))},e("nickname",{rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]})(h.a.createElement(c.a,{disabled:this.props.isLoading}))),h.a.createElement(l.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},h.a.createElement(i.a,{type:"primary",htmlType:"submit",loading:this.props.isLoading},"Register")))))}}]),a}(g.Component);a.default=Object(E.b)(function(e){return{isLogin:e.user.isLogin,isLoading:e.user.isLoading}},{register:function(e){return function(a){a({type:y.a.START_REGISTER});var t=JSON.stringify(e);Object(w.h)(t).then(function(e){e.data?(window.sessionStorage.setItem("user",JSON.stringify(e.data)),a(function(e){return b.a.success("Congratulation ".concat(e.nickname,"\uff01You have registered successfully")),{type:y.a.REGISTER_SUCCESS,payload:{userInfo:e}}}(e.data))):a((b.a.error("Oops! This email address has been already registered!",2),{type:y.a.REGISTER_FAILED}))})}}})(l.a.create({name:"register"})(S))}}]);
//# sourceMappingURL=21.8bac4189.chunk.js.map